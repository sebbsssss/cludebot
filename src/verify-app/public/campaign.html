<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CLUDE — 10 Days of Growing a Blockchain Brain</title>
  <meta name="description" content="100,000,000 $CLUDE awarded over 10 days. Content rewards, gacha machines, hackathon grants, and holder airdrops.">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f5f5f0;
      --bg-warm: #eeeee8;
      --text: #111;
      --text-muted: #666;
      --text-faint: #999;
      --accent: #111;
      --blue: #2244ff;
      --mono: 'JetBrains Mono', monospace;
      --section-pad: 120px;
      --green: #4a8a5a;
      --gold: #c8a832;
      --purple: #7a5aa0;
      --red: #d4473a;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      font-family: var(--mono);
      background: var(--bg);
      color: var(--text);
      font-size: 14px;
      line-height: 1.7;
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
    }
    ::selection { background: var(--text); color: var(--bg); }

    /* ══════════════════════════════════════════
       NAV
    ══════════════════════════════════════════ */
    nav {
      position: fixed; top: 0; width: 100%; z-index: 100;
      background: rgba(245, 245, 240, 0.9);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(0,0,0,0.06);
    }
    .nav-inner {
      max-width: 1200px; margin: 0 auto; padding: 0 40px;
      height: 56px; display: flex; align-items: center;
    }
    .nav-logo {
      font-size: 13px; font-weight: 800; letter-spacing: 5px;
      color: var(--text); text-transform: uppercase; text-decoration: none;
    }
    .nav-links {
      display: flex; align-items: center; gap: 32px; margin-left: auto;
    }
    .nav-links a {
      color: var(--text-muted); font-size: 11px; letter-spacing: 2px;
      text-transform: uppercase; text-decoration: none; transition: color 0.3s;
    }
    .nav-links a:hover { color: var(--text); }
    .nav-links a.active { color: var(--text); font-weight: 700; }

    /* ══════════════════════════════════════════
       SHARED SECTION STYLES
    ══════════════════════════════════════════ */
    .section {
      padding: var(--section-pad) 40px;
    }
    .section-inner {
      max-width: 1200px; margin: 0 auto;
    }
    .section-alt {
      background: var(--bg-warm);
    }
    .section-label {
      font-size: 11px; letter-spacing: 3px; text-transform: uppercase;
      color: var(--text-muted); margin-bottom: 16px;
    }
    .section-title {
      font-size: 36px; font-weight: 700; line-height: 1.2;
      margin-bottom: 20px; max-width: 700px;
    }
    .section-desc {
      font-size: 14px; color: var(--text-muted); max-width: 560px;
      line-height: 1.8; margin-bottom: 56px;
    }

    /* ══════════════════════════════════════════
       BUTTONS
    ══════════════════════════════════════════ */
    .btn {
      font-family: var(--mono);
      font-size: 11px; letter-spacing: 2px; text-transform: uppercase;
      padding: 14px 28px; text-decoration: none;
      transition: all 0.25s ease; cursor: pointer;
      border: none; display: inline-block;
    }
    .btn-primary {
      background: var(--text); color: var(--bg);
      border: 2px solid var(--text);
    }
    .btn-primary:hover {
      background: transparent; color: var(--text);
    }
    .btn-outline {
      background: transparent; color: var(--text);
      border: 2px solid rgba(0,0,0,0.15);
    }
    .btn-outline:hover {
      border-color: var(--text);
    }
    .btn:disabled, .btn.disabled {
      opacity: 0.35; cursor: not-allowed;
      pointer-events: none;
    }

    /* ══════════════════════════════════════════
       HERO
    ══════════════════════════════════════════ */
    .hero {
      min-height: 100vh;
      display: flex; align-items: center;
      padding: 0 40px;
      padding-top: 56px;
      text-align: center;
    }
    .hero-inner {
      max-width: 1200px; margin: 0 auto; width: 100%;
    }
    .hero-label {
      font-size: 11px; letter-spacing: 3px; text-transform: uppercase;
      color: var(--text-muted); margin-bottom: 24px;
    }
    .hero-title {
      font-size: clamp(36px, 5vw, 56px);
      font-weight: 800; line-height: 1.1;
      letter-spacing: -1px;
      margin-bottom: 24px;
    }
    .hero-title em {
      font-style: normal;
      background: linear-gradient(135deg, #2244ff, #5566ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .hero-sub {
      font-size: 14px; color: var(--text-muted);
      max-width: 580px; line-height: 1.8;
      margin: 0 auto 48px;
    }
    .hero-context {
      font-size: 12px; color: var(--text-faint);
      max-width: 540px; line-height: 1.8;
      margin: 32px auto 0;
    }

    /* countdown */
    .countdown {
      display: flex; justify-content: center; gap: 16px;
      margin-bottom: 32px;
    }
    .countdown-unit {
      display: flex; flex-direction: column; align-items: center; gap: 8px;
    }
    .countdown-digits {
      display: flex; gap: 4px;
    }
    .countdown-digit {
      width: 52px; height: 68px;
      background: var(--text);
      color: var(--bg);
      display: flex; align-items: center; justify-content: center;
      font-size: 28px; font-weight: 800;
      letter-spacing: 0;
      border-radius: 4px;
    }
    .countdown-sep {
      display: flex; align-items: center;
      font-size: 28px; font-weight: 800;
      color: var(--text-faint);
      padding-bottom: 24px;
    }
    .countdown-label {
      font-size: 9px; letter-spacing: 2px; text-transform: uppercase;
      color: var(--text-faint);
    }

    /* status badge */
    .status-badge {
      display: inline-block;
      padding: 8px 20px;
      font-size: 11px; letter-spacing: 2px; text-transform: uppercase;
      font-weight: 700;
      border: 2px solid rgba(0,0,0,0.1);
      margin-bottom: 8px;
    }
    .status-badge.active {
      border-color: var(--blue);
      color: var(--blue);
      animation: badgePulse 2s ease infinite;
    }
    .status-badge.complete {
      border-color: var(--green);
      color: var(--green);
    }
    @keyframes badgePulse {
      0%, 100% { box-shadow: 0 0 0 0 rgba(34,68,255,0.3); }
      50% { box-shadow: 0 0 0 8px rgba(34,68,255,0); }
    }

    /* ══════════════════════════════════════════
       TOKEN DISTRIBUTION PROGRESS
    ══════════════════════════════════════════ */
    .progress-section { text-align: center; }
    .progress-section .section-label,
    .progress-section .section-title,
    .progress-section .section-desc {
      text-align: center; margin-left: auto; margin-right: auto;
    }
    .progress-big-number {
      font-size: clamp(24px, 3.5vw, 40px);
      font-weight: 800;
      margin-bottom: 32px;
      letter-spacing: -0.5px;
    }
    .progress-big-number span { color: var(--text-faint); }
    .progress-bar-track {
      max-width: 700px; margin: 0 auto 32px;
      height: 8px;
      background: rgba(0,0,0,0.06);
      border-radius: 4px;
      overflow: hidden;
    }
    .progress-bar-fill {
      height: 100%;
      background: var(--blue);
      border-radius: 4px;
      transition: width 1s ease;
      width: 0%;
    }
    .progress-categories {
      display: flex; justify-content: center; gap: 12px;
      flex-wrap: wrap;
    }
    .progress-pill {
      font-size: 10px; letter-spacing: 1.5px; text-transform: uppercase;
      padding: 6px 14px;
      border: 1px solid rgba(0,0,0,0.08);
      background: white;
      display: flex; align-items: center; gap: 6px;
    }
    .progress-pill-dot {
      width: 6px; height: 6px; border-radius: 50%;
    }

    /* ══════════════════════════════════════════
       TIMELINE
    ══════════════════════════════════════════ */
    .timeline-wrapper {
      overflow-x: auto;
      padding-bottom: 16px;
      margin-bottom: 48px;
      -webkit-overflow-scrolling: touch;
    }
    .timeline-wrapper::-webkit-scrollbar { height: 4px; }
    .timeline-wrapper::-webkit-scrollbar-track { background: rgba(0,0,0,0.04); }
    .timeline-wrapper::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.12); border-radius: 2px; }

    .timeline-track {
      display: flex; align-items: center;
      min-width: max-content;
      padding: 20px 0;
      position: relative;
    }
    .timeline-node {
      display: flex; flex-direction: column; align-items: center;
      cursor: pointer;
      position: relative;
      min-width: 100px;
      transition: transform 0.3s ease;
    }
    .timeline-node:hover { transform: translateY(-4px); }
    .timeline-emoji {
      font-size: 20px; margin-bottom: 8px; height: 28px;
    }
    .timeline-circle {
      width: 44px; height: 44px;
      border-radius: 50%;
      border: 2px solid rgba(0,0,0,0.12);
      display: flex; align-items: center; justify-content: center;
      font-size: 13px; font-weight: 700;
      background: white;
      transition: all 0.3s ease;
      position: relative;
      z-index: 2;
    }
    .timeline-node-name {
      font-size: 9px; letter-spacing: 1.5px; text-transform: uppercase;
      color: var(--text-faint);
      margin-top: 8px;
      max-width: 90px;
      text-align: center;
      transition: color 0.3s ease;
    }
    .timeline-connector {
      flex: 0 0 40px; height: 2px;
      background: rgba(0,0,0,0.08);
      margin-top: -12px;
      z-index: 1;
    }

    /* timeline states */
    .timeline-node.upcoming .timeline-circle {
      border-color: rgba(0,0,0,0.08);
      color: var(--text-faint);
    }
    .timeline-node.active .timeline-circle {
      border-color: var(--blue);
      color: var(--blue);
      box-shadow: 0 0 0 6px rgba(34,68,255,0.12);
      animation: nodeGlow 2s ease infinite;
    }
    .timeline-node.active .timeline-node-name {
      color: var(--blue); font-weight: 600;
    }
    .timeline-node.completed .timeline-circle {
      border-color: var(--green);
      background: var(--green);
      color: white;
    }
    .timeline-node.completed .timeline-node-name {
      color: var(--green);
    }
    .timeline-node.selected .timeline-circle {
      transform: scale(1.15);
    }
    .timeline-connector.completed {
      background: var(--green);
    }

    @keyframes nodeGlow {
      0%, 100% { box-shadow: 0 0 0 6px rgba(34,68,255,0.12); }
      50% { box-shadow: 0 0 0 12px rgba(34,68,255,0.06); }
    }

    /* detail card */
    .day-detail {
      background: white;
      border: 1px solid rgba(0,0,0,0.06);
      padding: 40px;
      display: none;
      transition: all 0.3s ease;
    }
    .day-detail.visible { display: block; }
    .day-detail-header {
      display: flex; align-items: flex-start; gap: 20px;
      margin-bottom: 24px;
    }
    .day-detail-emoji {
      font-size: 36px; flex-shrink: 0;
    }
    .day-detail-info { flex: 1; }
    .day-detail-day {
      font-size: 10px; letter-spacing: 2px; text-transform: uppercase;
      color: var(--text-faint); margin-bottom: 4px;
    }
    .day-detail-name {
      font-size: 24px; font-weight: 800; margin-bottom: 4px;
    }
    .day-detail-subtitle {
      font-size: 13px; color: var(--text-muted);
    }
    .day-detail-meta {
      display: flex; gap: 12px; flex-wrap: wrap;
      margin-bottom: 24px;
    }
    .day-detail-badge {
      font-size: 10px; letter-spacing: 1.5px; text-transform: uppercase;
      padding: 5px 12px;
      border: 1px solid rgba(0,0,0,0.08);
      background: rgba(0,0,0,0.02);
    }
    .day-detail-badge.type-content { border-color: var(--blue); color: var(--blue); }
    .day-detail-badge.type-gacha { border-color: var(--gold); color: var(--gold); }
    .day-detail-badge.type-grant { border-color: var(--purple); color: var(--purple); }
    .day-detail-badge.type-special { border-color: var(--red); color: var(--red); }
    .day-detail-tokens {
      font-size: 18px; font-weight: 800;
      margin-bottom: 24px;
    }
    .day-detail-tokens span { color: var(--text-faint); font-weight: 400; }
    .day-detail-body {
      font-size: 13px; color: var(--text-muted); line-height: 1.8;
      margin-bottom: 24px;
    }
    .day-detail-cta {
      display: flex; align-items: center; gap: 12px;
    }
    .copy-tag-btn {
      font-family: var(--mono);
      font-size: 11px; letter-spacing: 1px;
      padding: 10px 16px;
      background: rgba(0,0,0,0.04);
      border: 1px solid rgba(0,0,0,0.08);
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .copy-tag-btn:hover {
      background: rgba(0,0,0,0.08);
    }
    .gacha-odds-badge {
      display: inline-block;
      padding: 6px 14px;
      font-size: 12px; font-weight: 700;
      background: var(--gold);
      color: white;
      letter-spacing: 1px;
    }

    /* ══════════════════════════════════════════
       HACKATHON GRANTS
    ══════════════════════════════════════════ */
    .grants-grid {
      display: grid; grid-template-columns: repeat(3, 1fr);
      gap: 24px;
    }
    .grant-card-container {
      perspective: 1000px;
      height: 400px;
    }
    .grant-card {
      width: 100%; height: 100%;
      position: relative;
      transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
      transform-style: preserve-3d;
    }
    .grant-card.revealed {
      transform: rotateY(180deg);
    }
    .grant-front, .grant-back {
      position: absolute; top: 0; left: 0;
      width: 100%; height: 100%;
      backface-visibility: hidden;
      -webkit-backface-visibility: hidden;
      border: 1px solid rgba(0,0,0,0.06);
      padding: 40px 32px;
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      text-align: center;
    }
    .grant-front {
      background: var(--text);
      color: var(--bg);
    }
    .grant-front-question {
      font-size: 72px; font-weight: 800;
      opacity: 0.15;
      margin-bottom: 24px;
    }
    .grant-front-label {
      font-size: 11px; letter-spacing: 3px; text-transform: uppercase;
      margin-bottom: 8px;
      animation: grantPulse 3s ease infinite;
    }
    .grant-front-reveal {
      font-size: 10px; letter-spacing: 2px; text-transform: uppercase;
      color: rgba(245,245,240,0.4);
      margin-top: 20px;
    }
    .grant-front-amount {
      font-size: 14px; font-weight: 700;
      margin-top: auto;
      padding-top: 24px;
      border-top: 1px solid rgba(245,245,240,0.1);
      width: 100%;
      color: rgba(245,245,240,0.6);
    }
    @keyframes grantPulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .grant-back {
      background: white;
      transform: rotateY(180deg);
    }
    .grant-pfp {
      width: 80px; height: 80px;
      border-radius: 50%;
      border: 3px solid rgba(0,0,0,0.06);
      background: var(--bg-warm);
      display: flex; align-items: center; justify-content: center;
      font-size: 28px; font-weight: 800;
      color: var(--text-faint);
      margin-bottom: 16px;
      overflow: hidden;
    }
    .grant-pfp img {
      width: 100%; height: 100%; object-fit: cover;
    }
    .grant-back-name {
      font-size: 18px; font-weight: 700; margin-bottom: 8px;
    }
    .grant-back-desc {
      font-size: 12px; color: var(--text-muted); line-height: 1.7;
      margin-bottom: 16px; max-width: 250px;
    }
    .grant-back-amount {
      font-size: 14px; font-weight: 700; margin-bottom: 4px;
    }
    .grant-back-vesting {
      font-size: 10px; color: var(--text-faint); letter-spacing: 1px;
      text-transform: uppercase; margin-bottom: 20px;
    }

    /* ══════════════════════════════════════════
       LIVE ENGAGEMENT TRACKER
    ══════════════════════════════════════════ */
    .tracker-stats {
      display: grid; grid-template-columns: repeat(3, 1fr);
      gap: 2px;
      margin-bottom: 40px;
    }
    .tracker-stat {
      background: white;
      border: 1px solid rgba(0,0,0,0.06);
      padding: 28px 24px;
      text-align: center;
    }
    .tracker-stat-value {
      font-size: 32px; font-weight: 800;
      margin-bottom: 4px;
    }
    .tracker-stat-label {
      font-size: 10px; letter-spacing: 2px; text-transform: uppercase;
      color: var(--text-faint);
    }

    .tweet-feed {
      display: grid; grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }
    .tweet-card {
      background: white;
      border: 1px solid rgba(0,0,0,0.06);
      padding: 20px 24px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .tweet-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 32px rgba(0,0,0,0.06);
    }
    .tweet-author {
      display: flex; align-items: center; gap: 10px;
      margin-bottom: 12px;
    }
    .tweet-avatar {
      width: 32px; height: 32px; border-radius: 50%;
      background: var(--text);
      color: var(--bg);
      display: flex; align-items: center; justify-content: center;
      font-size: 12px; font-weight: 700;
      flex-shrink: 0;
    }
    .tweet-handle {
      font-size: 12px; font-weight: 600;
    }
    .tweet-holder-badge {
      font-size: 8px; letter-spacing: 1.5px; text-transform: uppercase;
      padding: 2px 6px;
      background: var(--gold);
      color: white;
      margin-left: auto;
      font-weight: 700;
    }
    .tweet-text {
      font-size: 12px; color: var(--text-muted); line-height: 1.7;
      margin-bottom: 12px;
    }
    .tweet-engagement {
      display: flex; gap: 16px;
      font-size: 11px; color: var(--text-faint);
    }
    .tweet-engagement span {
      display: flex; align-items: center; gap: 4px;
    }
    .tweet-time {
      margin-left: auto;
      font-size: 10px; color: var(--text-faint);
    }

    .feed-empty {
      grid-column: 1 / -1;
      text-align: center;
      padding: 60px 20px;
      color: var(--text-faint);
      font-size: 13px;
    }

    /* ══════════════════════════════════════════
       LEADERBOARD
    ══════════════════════════════════════════ */
    .leaderboard-tabs {
      display: flex; gap: 2px;
      margin-bottom: 24px;
    }
    .leaderboard-tab {
      font-family: var(--mono);
      font-size: 10px; letter-spacing: 1.5px; text-transform: uppercase;
      padding: 10px 20px;
      background: white;
      border: 1px solid rgba(0,0,0,0.06);
      cursor: pointer;
      transition: all 0.25s ease;
      color: var(--text-muted);
    }
    .leaderboard-tab:hover { border-color: rgba(0,0,0,0.15); }
    .leaderboard-tab.active {
      background: var(--text);
      color: var(--bg);
      border-color: var(--text);
    }

    #leaderboardContent {
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }
    .leaderboard-table {
      width: 100%;
      min-width: 600px;
      border-collapse: collapse;
    }
    .leaderboard-table th {
      font-size: 9px; letter-spacing: 2px; text-transform: uppercase;
      color: var(--text-faint);
      text-align: left;
      padding: 12px 16px;
      border-bottom: 1px solid rgba(0,0,0,0.08);
      font-weight: 400;
    }
    .leaderboard-table td {
      font-size: 12px;
      padding: 14px 16px;
      border-bottom: 1px solid rgba(0,0,0,0.04);
    }
    .leaderboard-table tr:hover td {
      background: rgba(0,0,0,0.015);
    }
    .lb-rank {
      font-weight: 800; font-size: 14px;
      min-width: 40px; display: inline-block;
    }
    .lb-rank.gold { color: #c8a832; }
    .lb-rank.silver { color: #999; }
    .lb-rank.bronze { color: #a0724a; }
    .lb-author { font-weight: 600; }
    .lb-score { font-weight: 700; }
    .lb-awarded {
      font-size: 11px; font-weight: 700;
      color: var(--green);
    }
    .lb-empty {
      text-align: center;
      padding: 48px 20px;
      color: var(--text-faint);
      font-size: 12px;
      line-height: 1.8;
    }

    /* ══════════════════════════════════════════
       GACHA MACHINE
    ══════════════════════════════════════════ */
    .gacha-container {
      display: grid; grid-template-columns: 1fr 1fr;
      gap: 48px;
      align-items: start;
    }
    .gacha-machine {
      max-width: 500px;
      text-align: center;
    }
    .gacha-reels {
      display: flex; justify-content: center; gap: 12px;
      margin-bottom: 24px;
    }
    .gacha-reel {
      width: 80px; height: 100px;
      background: white;
      border: 2px solid rgba(0,0,0,0.08);
      display: flex; align-items: center; justify-content: center;
      font-size: 36px; font-weight: 800;
      transition: all 0.3s ease;
      overflow: hidden;
      position: relative;
    }
    .gacha-reel.spinning {
      border-color: var(--blue);
    }
    .gacha-reel.win {
      border-color: var(--green);
      animation: reelWin 0.5s ease;
    }
    .gacha-reel.lose {
      border-color: var(--red);
      opacity: 0.5;
    }
    @keyframes reelWin {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    .gacha-odds {
      font-size: 13px; color: var(--text-muted);
      margin-bottom: 20px;
    }
    .gacha-odds strong {
      color: var(--text); font-weight: 700;
    }
    .gacha-spin-btn {
      font-family: var(--mono);
      font-size: 14px; font-weight: 700;
      letter-spacing: 3px; text-transform: uppercase;
      padding: 18px 48px;
      background: var(--text);
      color: var(--bg);
      border: 2px solid var(--text);
      cursor: pointer;
      transition: all 0.25s ease;
    }
    .gacha-spin-btn:hover {
      background: transparent;
      color: var(--text);
    }
    .gacha-spin-btn:disabled {
      opacity: 0.3; cursor: not-allowed;
    }
    .gacha-spin-btn:disabled:hover {
      background: var(--text); color: var(--bg);
    }

    .gacha-input-row {
      display: flex; gap: 8px;
      margin-bottom: 20px;
      max-width: 400px;
      margin-left: auto; margin-right: auto;
    }
    .gacha-input {
      font-family: var(--mono);
      font-size: 12px;
      padding: 10px 14px;
      border: 1px solid rgba(0,0,0,0.1);
      background: white;
      flex: 1;
      outline: none;
      transition: border-color 0.2s;
    }
    .gacha-input:focus {
      border-color: var(--text);
    }
    .gacha-input::placeholder {
      color: var(--text-faint);
    }

    .gacha-result {
      margin-top: 20px;
      font-size: 14px; font-weight: 700;
      min-height: 24px;
    }
    .gacha-result.win { color: var(--green); }
    .gacha-result.lose { color: var(--text-faint); }

    /* gacha history */
    .gacha-history {
      max-height: 480px;
      overflow-y: auto;
    }
    .gacha-history::-webkit-scrollbar { width: 3px; }
    .gacha-history::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.1); }

    .gacha-history-title {
      font-size: 11px; letter-spacing: 2px; text-transform: uppercase;
      color: var(--text-faint);
      margin-bottom: 16px;
    }
    .gacha-spin-row {
      display: flex; align-items: center; gap: 12px;
      padding: 10px 0;
      border-bottom: 1px solid rgba(0,0,0,0.04);
      font-size: 12px;
    }
    .gacha-spin-handle {
      font-weight: 600; min-width: 100px;
    }
    .gacha-spin-result {
      font-size: 10px; letter-spacing: 1.5px; text-transform: uppercase;
      font-weight: 700;
      padding: 2px 8px;
    }
    .gacha-spin-result.win {
      color: var(--green); background: rgba(74,138,90,0.08);
    }
    .gacha-spin-result.lose {
      color: var(--text-faint); background: rgba(0,0,0,0.03);
    }
    .gacha-spin-payout {
      margin-left: auto;
      font-weight: 700;
      color: var(--text-faint);
    }
    .gacha-spin-payout.win { color: var(--green); }

    .gacha-stats {
      display: grid; grid-template-columns: repeat(3, 1fr);
      gap: 2px;
      margin-top: 24px;
    }
    .gacha-stat {
      background: white;
      border: 1px solid rgba(0,0,0,0.06);
      padding: 16px;
      text-align: center;
    }
    .gacha-stat-value {
      font-size: 20px; font-weight: 800;
      margin-bottom: 2px;
    }
    .gacha-stat-label {
      font-size: 9px; letter-spacing: 1.5px; text-transform: uppercase;
      color: var(--text-faint);
    }

    /* ══════════════════════════════════════════
       FOOTER
    ══════════════════════════════════════════ */
    .footer {
      padding: 60px 40px;
      border-top: 1px solid rgba(0,0,0,0.06);
    }
    .footer-inner {
      max-width: 1200px; margin: 0 auto;
      display: flex; justify-content: space-between;
      align-items: center;
    }
    .footer-left {
      font-size: 11px; color: var(--text-faint); letter-spacing: 2px;
      text-transform: uppercase;
    }
    .footer-links {
      display: flex; gap: 32px;
    }
    .footer-links a {
      color: var(--text-muted); font-size: 11px; letter-spacing: 2px;
      text-transform: uppercase; text-decoration: none; transition: color 0.3s;
    }
    .footer-links a:hover { color: var(--text); }

    /* ══════════════════════════════════════════
       SCROLL REVEAL
    ══════════════════════════════════════════ */
    .reveal {
      opacity: 0; transform: translateY(24px);
      transition: opacity 0.7s ease, transform 0.7s ease;
    }
    .reveal.visible { opacity: 1; transform: translateY(0); }

    /* ══════════════════════════════════════════
       DATA UNAVAILABLE STATE
    ══════════════════════════════════════════ */
    .data-unavailable {
      text-align: center;
      padding: 40px 20px;
      color: var(--text-faint);
      font-size: 12px;
      letter-spacing: 1px;
    }

    /* ══════════════════════════════════════════
       RESPONSIVE
    ══════════════════════════════════════════ */
    @media (max-width: 968px) {
      :root { --section-pad: 80px; }
      .grants-grid { grid-template-columns: 1fr 1fr; }
      .gacha-container { grid-template-columns: 1fr; }
      .gacha-machine { max-width: 100%; }
      .tweet-feed { grid-template-columns: 1fr 1fr; }
      .tracker-stats { grid-template-columns: repeat(3, 1fr); }
      .leaderboard-table { font-size: 11px; }
      .leaderboard-table th, .leaderboard-table td { padding: 10px 8px; }
    }

    @media (max-width: 768px) {
      :root { --section-pad: 64px; }
      .section { padding-left: 24px; padding-right: 24px; }
      .hero { padding-left: 24px; padding-right: 24px; }
      .nav-inner { padding: 0 24px; }
      .nav-links { gap: 16px; }
      .nav-links a { font-size: 10px; letter-spacing: 1px; }

      .hero-title { font-size: 32px; }
      .section-title { font-size: 28px; }

      .countdown { gap: 8px; }
      .countdown-digit { width: 40px; height: 52px; font-size: 20px; }
      .countdown-sep { font-size: 20px; }

      /* vertical timeline */
      .timeline-wrapper { overflow-x: visible; padding-bottom: 0; }
      .timeline-track {
        flex-direction: column;
        align-items: flex-start;
        min-width: auto;
        padding-left: 32px;
      }
      .timeline-node {
        flex-direction: row;
        min-width: auto;
        width: 100%;
        gap: 16px;
      }
      .timeline-emoji { margin-bottom: 0; }
      .timeline-node-name { margin-top: 0; text-align: left; }
      .timeline-connector {
        width: 2px; height: 24px; flex: 0 0 24px;
        margin-top: 0; margin-left: 22px;
      }

      .grants-grid { grid-template-columns: 1fr; }
      .grant-card-container { height: 360px; }
      .tweet-feed { grid-template-columns: 1fr; }
      .tracker-stats { grid-template-columns: 1fr; }
      .gacha-stats { grid-template-columns: 1fr; }
      .gacha-reels { gap: 8px; }
      .gacha-reel { width: 64px; height: 80px; font-size: 28px; }

      .progress-categories { flex-direction: column; align-items: center; }
      .leaderboard-tabs { flex-wrap: wrap; }

      .footer-inner { flex-direction: column; gap: 24px; text-align: center; }
    }

    @media (max-width: 480px) {
      .nav-links a.hide-mobile { display: none; }
      .countdown-digit { width: 34px; height: 44px; font-size: 18px; }
      .day-detail { padding: 24px; }
      .day-detail-name { font-size: 20px; }
    }
  </style>
</head>
<body>

  <!-- ═══════════════ NAV ═══════════════ -->
  <nav>
    <div class="nav-inner">
      <a href="/" class="nav-logo">Clude</a>
      <div class="nav-links">
        <a href="/brain.html" class="hide-mobile">Brain</a>
        <a href="/docs.html" class="hide-mobile">Docs</a>
        <a href="/demo.html" class="hide-mobile">Demo</a>
      </div>
    </div>
  </nav>

  <!-- ═══════════════ HERO ═══════════════ -->
  <section class="hero">
    <div class="hero-inner">
      <div class="hero-label">10-Day Event</div>
      <h1 class="hero-title">Growing a<br>Blockchain <em>Brain</em></h1>
      <p class="hero-sub">100,000,000 $CLUDE awarded. 10 days. 0 kept by the team.</p>

      <div class="countdown" id="countdown">
        <div class="countdown-unit">
          <div class="countdown-digits">
            <div class="countdown-digit" id="cd-d1">0</div>
            <div class="countdown-digit" id="cd-d2">0</div>
          </div>
          <div class="countdown-label">Days</div>
        </div>
        <div class="countdown-sep">:</div>
        <div class="countdown-unit">
          <div class="countdown-digits">
            <div class="countdown-digit" id="cd-h1">0</div>
            <div class="countdown-digit" id="cd-h2">0</div>
          </div>
          <div class="countdown-label">Hours</div>
        </div>
        <div class="countdown-sep">:</div>
        <div class="countdown-unit">
          <div class="countdown-digits">
            <div class="countdown-digit" id="cd-m1">0</div>
            <div class="countdown-digit" id="cd-m2">0</div>
          </div>
          <div class="countdown-label">Mins</div>
        </div>
        <div class="countdown-sep">:</div>
        <div class="countdown-unit">
          <div class="countdown-digits">
            <div class="countdown-digit" id="cd-s1">0</div>
            <div class="countdown-digit" id="cd-s2">0</div>
          </div>
          <div class="countdown-label">Secs</div>
        </div>
      </div>

      <div class="status-badge" id="statusBadge">Loading...</div>

      <p class="hero-context">Following in the footsteps of Pump.fun's Build in Public hackathon — every day as 1% of supply unlocks, it goes straight back to Clude builders and believers.</p>
    </div>
  </section>

  <!-- ═══════════════ TOKEN DISTRIBUTION PROGRESS ═══════════════ -->
  <section class="section section-alt progress-section">
    <div class="section-inner reveal">
      <div class="section-label">Token Distribution</div>
      <div class="progress-big-number">
        <span id="tokensDistributed">0</span> <span>/ 100,000,000 $CLUDE</span>
      </div>
      <div class="progress-bar-track">
        <div class="progress-bar-fill" id="progressFill"></div>
      </div>
      <div class="progress-categories">
        <div class="progress-pill">
          <div class="progress-pill-dot" style="background: var(--blue);"></div>
          Content Rewards
        </div>
        <div class="progress-pill">
          <div class="progress-pill-dot" style="background: var(--gold);"></div>
          Gacha Pool
        </div>
        <div class="progress-pill">
          <div class="progress-pill-dot" style="background: var(--purple);"></div>
          Hackathon Grants
        </div>
        <div class="progress-pill">
          <div class="progress-pill-dot" style="background: var(--red);"></div>
          Holder Airdrops
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════ TIMELINE ═══════════════ -->
  <section class="section">
    <div class="section-inner reveal">
      <div class="section-label">The Journey</div>
      <div class="section-title">10 days. 10 catalysts.</div>

      <div class="timeline-wrapper">
        <div class="timeline-track" id="timelineTrack"></div>
      </div>

      <div class="day-detail visible" id="dayDetail">
        <div class="day-detail-header">
          <div class="day-detail-emoji" id="detailEmoji"></div>
          <div class="day-detail-info">
            <div class="day-detail-day" id="detailDay"></div>
            <div class="day-detail-name" id="detailName"></div>
            <div class="day-detail-subtitle" id="detailSubtitle"></div>
          </div>
        </div>
        <div class="day-detail-meta" id="detailMeta"></div>
        <div class="day-detail-tokens" id="detailTokens"></div>
        <div class="day-detail-body" id="detailBody"></div>
        <div class="day-detail-cta" id="detailCta"></div>
      </div>
    </div>
  </section>

  <!-- ═══════════════ HACKATHON GRANTS ═══════════════ -->
  <section class="section section-alt">
    <div class="section-inner reveal">
      <div class="section-label">Clude Builders — Hackathon Grants</div>
      <div class="section-title">30M $CLUDE for builders.</div>
      <div class="section-desc">Three grants of 10M tokens each. Vested linearly over one week. Build something on Clude.</div>
      <div class="grants-grid" id="grantsGrid">
        <!-- Rendered by JS -->
      </div>
    </div>
  </section>

  <!-- ═══════════════ LIVE ENGAGEMENT TRACKER ═══════════════ -->
  <section class="section">
    <div class="section-inner reveal">
      <div class="section-label">Live Tracker</div>
      <div class="section-title">Community in motion.</div>
      <div class="section-desc">Tweets tagged @cludebot with #CludeHackathon. Updates every 5 minutes.</div>

      <div class="tracker-stats" id="trackerStats">
        <div class="tracker-stat">
          <div class="tracker-stat-value" id="statTweets">--</div>
          <div class="tracker-stat-label">Total Tweets</div>
        </div>
        <div class="tracker-stat">
          <div class="tracker-stat-value" id="statEngagement">--</div>
          <div class="tracker-stat-label">Total Engagement</div>
        </div>
        <div class="tracker-stat">
          <div class="tracker-stat-value" id="statAuthors">--</div>
          <div class="tracker-stat-label">Unique Authors</div>
        </div>
      </div>

      <div class="tweet-feed" id="tweetFeed">
        <div class="feed-empty">Waiting for campaign data...</div>
      </div>
    </div>
  </section>

  <!-- ═══════════════ LEADERBOARD ═══════════════ -->
  <section class="section section-alt">
    <div class="section-inner reveal">
      <div class="section-label">Leaderboard</div>
      <div class="section-title">Top 10 by engagement.</div>

      <div class="leaderboard-tabs" id="leaderboardTabs">
        <button class="leaderboard-tab active" data-day="1">Day 1 — Spark</button>
        <button class="leaderboard-tab" data-day="3">Day 3 — Core Memory</button>
        <button class="leaderboard-tab" data-day="5">Day 5 — Visual Cortex</button>
      </div>

      <div id="leaderboardContent">
        <table class="leaderboard-table">
          <thead>
            <tr>
              <th>Rank</th>
              <th>Author</th>
              <th>Score</th>
              <th title="Likes">&#10084;</th>
              <th title="Retweets">&#128257;</th>
              <th title="Replies">&#128172;</th>
              <th title="Link">&#128206;</th>
              <th>Awarded</th>
            </tr>
          </thead>
          <tbody id="leaderboardBody">
            <tr>
              <td colspan="8" class="lb-empty">Pending — Campaign hasn't started yet. Check back soon.</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- ═══════════════ GACHA MACHINE ═══════════════ -->
  <section class="section">
    <div class="section-inner reveal">
      <div class="section-label">Gacha Machine</div>
      <div class="section-title" id="gachaTitle">Dopamine Rush</div>
      <div class="section-desc" id="gachaDesc">Test your luck. Win big or walk away. The tokens go somewhere either way.</div>

      <div class="gacha-container">
        <div class="gacha-machine">
          <div class="gacha-reels">
            <div class="gacha-reel" id="reel1">?</div>
            <div class="gacha-reel" id="reel2">?</div>
            <div class="gacha-reel" id="reel3">?</div>
          </div>

          <div class="gacha-odds" id="gachaOdds">
            <strong>50/50</strong> — Triple or nothing
          </div>

          <div class="gacha-input-row">
            <input type="text" class="gacha-input" id="gachaWallet" placeholder="Wallet address">
            <input type="text" class="gacha-input" id="gachaHandle" placeholder="@handle">
          </div>

          <button class="gacha-spin-btn" id="gachaSpinBtn" disabled>Spin</button>

          <div class="gacha-result" id="gachaResult"></div>

          <div class="gacha-stats" id="gachaStatsGrid">
            <div class="gacha-stat">
              <div class="gacha-stat-value" id="gsTotalSpins">0</div>
              <div class="gacha-stat-label">Total Spins</div>
            </div>
            <div class="gacha-stat">
              <div class="gacha-stat-value" id="gsWinRate">0%</div>
              <div class="gacha-stat-label">Win Rate</div>
            </div>
            <div class="gacha-stat">
              <div class="gacha-stat-value" id="gsTotalPaid">0</div>
              <div class="gacha-stat-label">Total Paid Out</div>
            </div>
          </div>
        </div>

        <div class="gacha-history">
          <div class="gacha-history-title">Recent Spins</div>
          <div id="gachaHistoryFeed">
            <div class="data-unavailable">No spins yet</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ═══════════════ FOOTER ═══════════════ -->
  <footer class="footer">
    <div class="footer-inner">
      <div class="footer-left">Clude — The cognitive layer for AI agents</div>
      <div class="footer-links">
        <a href="https://x.com/Cludebot" target="_blank">Twitter</a>
        <a href="https://github.com/cludebot" target="_blank">GitHub</a>
        <a href="/docs.html">Docs</a>
      </div>
    </div>
  </footer>

  <!-- ═══════════════ JAVASCRIPT ═══════════════ -->
  <script>
  (function() {
    'use strict';

    /* ──────────────────────────────────────────
       CAMPAIGN DATA
    ────────────────────────────────────────── */
    var CAMPAIGN_DAYS = [
      { day: 1, emoji: '\u2728', name: 'SPARK', subtitle: 'Top 10 Educational Tweets', type: 'content', restriction: 'Top 100 Holders Only', tokens: '10M', color: '#2244ff' },
      { day: 2, emoji: '\uD83C\uDFB0', name: 'DOPAMINE RUSH', subtitle: '3x Gacha Machine', type: 'gacha', restriction: 'Open to All', tokens: '10M', odds: '50/50', multiplier: '3x', color: '#c8a832' },
      { day: 3, emoji: '\uD83D\uDCDD', name: 'CORE MEMORY', subtitle: 'Top 10 Longform Articles', type: 'content', restriction: 'Open to All', tokens: '10M', color: '#2244ff' },
      { day: 4, emoji: '\uD83C\uDF31', name: 'FIRST NODE', subtitle: 'Grant 1 Reveal', type: 'grant', restriction: 'Hackathon', tokens: '10M', grantNumber: 1, color: '#7a5aa0' },
      { day: 5, emoji: '\uD83D\uDCF9', name: 'VISUAL CORTEX', subtitle: 'Top 10 Video Content', type: 'content', restriction: 'Open to All', tokens: '10M', color: '#2244ff' },
      { day: 6, emoji: '\uD83D\uDCF1', name: 'MOBILE NODES', subtitle: 'Grant 2 Reveal (Seeker)', type: 'grant', restriction: 'Hackathon', tokens: '10M', grantNumber: 2, color: '#7a5aa0' },
      { day: 7, emoji: '\uD83E\uDE82', name: 'NETWORK LINK', subtitle: 'Seeker Airdrop / Rewards', type: 'special', restriction: 'Grant 2 Partner', tokens: '10M', color: '#d4473a' },
      { day: 8, emoji: '\uD83D\uDD25', name: 'HYPE-DRIVE', subtitle: '10x Gacha Machine', type: 'gacha', restriction: 'Open to All', tokens: '10M', odds: '15%', multiplier: '10x', color: '#c8a832' },
      { day: 9, emoji: '\uD83C\uDFC6', name: 'GROWTH NODES', subtitle: 'Grant 3 Reveal', type: 'grant', restriction: 'Hackathon', tokens: '10M', grantNumber: 3, color: '#7a5aa0' },
      { day: 10, emoji: '\uD83E\uDDE0', name: 'PEAK INTELLIGENCE', subtitle: '10M Airdrop to Top 10 Holders', type: 'special', restriction: 'Top 10 Holders (Snapshot)', tokens: '10M', color: '#d4473a' },
    ];

    var GACHA_CHARS = ['C', 'L', 'U', 'D', 'E', '$', '*', '+', 'x'];
    var CONTENT_DAYS = [1, 3, 5];

    /* ──────────────────────────────────────────
       STATE
    ────────────────────────────────────────── */
    var state = {
      campaignStart: null,
      currentDay: 0,
      status: 'upcoming', // upcoming | active | complete
      tokensDistributed: 0,
      selectedDay: 1,
      leaderboardDay: 1,
      gachaSpinning: false,
      grants: [
        { number: 1, revealed: false, name: null, description: null, pfp: null, revealDay: 4 },
        { number: 2, revealed: false, name: null, description: null, pfp: null, revealDay: 6 },
        { number: 3, revealed: false, name: null, description: null, pfp: null, revealDay: 9 },
      ],
      tweets: [],
      leaderboardData: {},
      gachaHistory: [],
      gachaStats: { totalSpins: 0, winRate: 0, totalPaid: 0 },
    };

    /* ──────────────────────────────────────────
       UTILITIES
    ────────────────────────────────────────── */
    function $(id) { return document.getElementById(id); }
    function qsa(sel) { return document.querySelectorAll(sel); }

    function formatNumber(n) {
      if (n >= 1e6) return (n / 1e6).toFixed(1).replace(/\.0$/, '') + 'M';
      if (n >= 1e3) return (n / 1e3).toFixed(1).replace(/\.0$/, '') + 'K';
      return String(n);
    }

    function formatNumberFull(n) {
      return n.toLocaleString('en-US');
    }

    function relativeTime(dateStr) {
      if (!dateStr) return '';
      var now = Date.now();
      var then = new Date(dateStr).getTime();
      var diff = Math.max(0, now - then);
      var mins = Math.floor(diff / 60000);
      if (mins < 1) return 'just now';
      if (mins < 60) return mins + 'm ago';
      var hrs = Math.floor(mins / 60);
      if (hrs < 24) return hrs + 'h ago';
      var days = Math.floor(hrs / 24);
      return days + 'd ago';
    }

    function safeFetch(url, opts) {
      return fetch(url, opts || {}).then(function(r) {
        if (!r.ok) throw new Error('HTTP ' + r.status);
        return r.json();
      });
    }

    /* ──────────────────────────────────────────
       COUNTDOWN
    ────────────────────────────────────────── */
    function updateCountdown() {
      var now = Date.now();
      var target;

      if (state.status === 'upcoming' && state.campaignStart) {
        target = new Date(state.campaignStart).getTime();
      } else if (state.status === 'active' && state.campaignStart) {
        // countdown to end of current day (next day start)
        var dayEnd = new Date(state.campaignStart).getTime() + state.currentDay * 86400000;
        target = dayEnd;
      } else {
        // complete or no data - show zeros
        setCountdownDigits(0, 0, 0, 0);
        return;
      }

      var diff = Math.max(0, target - now);
      var days = Math.floor(diff / 86400000);
      var hours = Math.floor((diff % 86400000) / 3600000);
      var mins = Math.floor((diff % 3600000) / 60000);
      var secs = Math.floor((diff % 60000) / 1000);

      setCountdownDigits(days, hours, mins, secs);
    }

    function setCountdownDigits(d, h, m, s) {
      var dd = String(d).padStart(2, '0');
      var hh = String(h).padStart(2, '0');
      var mm = String(m).padStart(2, '0');
      var ss = String(s).padStart(2, '0');

      $('cd-d1').textContent = dd[0];
      $('cd-d2').textContent = dd[1];
      $('cd-h1').textContent = hh[0];
      $('cd-h2').textContent = hh[1];
      $('cd-m1').textContent = mm[0];
      $('cd-m2').textContent = mm[1];
      $('cd-s1').textContent = ss[0];
      $('cd-s2').textContent = ss[1];
    }

    function updateStatusBadge() {
      var badge = $('statusBadge');
      badge.className = 'status-badge';

      if (state.status === 'upcoming') {
        if (state.campaignStart) {
          var diff = new Date(state.campaignStart).getTime() - Date.now();
          var daysUntil = Math.ceil(diff / 86400000);
          badge.textContent = 'Starts in ' + daysUntil + ' day' + (daysUntil !== 1 ? 's' : '');
        } else {
          badge.textContent = 'Coming Soon';
        }
      } else if (state.status === 'active') {
        badge.textContent = 'Day ' + state.currentDay + ' Active';
        badge.classList.add('active');
      } else {
        badge.textContent = 'Campaign Complete';
        badge.classList.add('complete');
      }
    }

    /* ──────────────────────────────────────────
       TOKEN PROGRESS
    ────────────────────────────────────────── */
    function updateTokenProgress() {
      $('tokensDistributed').textContent = formatNumberFull(state.tokensDistributed);
      var pct = Math.min(100, (state.tokensDistributed / 100000000) * 100);
      $('progressFill').style.width = pct + '%';
    }

    /* ──────────────────────────────────────────
       TIMELINE
    ────────────────────────────────────────── */
    function renderTimeline() {
      var track = $('timelineTrack');
      track.innerHTML = '';

      CAMPAIGN_DAYS.forEach(function(day, i) {
        // connector before (except first)
        if (i > 0) {
          var conn = document.createElement('div');
          conn.className = 'timeline-connector';
          if (day.day <= state.currentDay && state.status !== 'upcoming') {
            conn.classList.add('completed');
          }
          track.appendChild(conn);
        }

        var node = document.createElement('div');
        node.className = 'timeline-node';

        // determine state
        if (state.status === 'upcoming' || day.day > state.currentDay) {
          node.classList.add('upcoming');
        } else if (day.day === state.currentDay && state.status === 'active') {
          node.classList.add('active');
        } else {
          node.classList.add('completed');
        }
        if (day.day === state.selectedDay) {
          node.classList.add('selected');
        }

        var emoji = document.createElement('div');
        emoji.className = 'timeline-emoji';
        emoji.textContent = day.emoji;

        var circle = document.createElement('div');
        circle.className = 'timeline-circle';
        if (node.classList.contains('completed')) {
          circle.innerHTML = '\u2713';
        } else {
          circle.textContent = day.day;
        }

        var name = document.createElement('div');
        name.className = 'timeline-node-name';
        name.textContent = day.name;

        node.appendChild(emoji);
        node.appendChild(circle);
        node.appendChild(name);

        node.addEventListener('click', function() {
          state.selectedDay = day.day;
          renderTimeline();
          renderDayDetail();
        });

        track.appendChild(node);
      });
    }

    function renderDayDetail() {
      var day = CAMPAIGN_DAYS[state.selectedDay - 1];
      if (!day) return;

      $('detailEmoji').textContent = day.emoji;
      $('detailDay').textContent = 'Day ' + day.day;
      $('detailName').textContent = day.name;
      $('detailSubtitle').textContent = day.subtitle;

      // meta badges
      var metaHtml = '';
      metaHtml += '<div class="day-detail-badge type-' + day.type + '">' + day.type + '</div>';
      metaHtml += '<div class="day-detail-badge">' + day.restriction + '</div>';
      if (day.multiplier) {
        metaHtml += '<div class="gacha-odds-badge">' + day.multiplier + '</div>';
      }
      $('detailMeta').innerHTML = metaHtml;

      // tokens
      $('detailTokens').innerHTML = day.tokens + ' <span>$CLUDE</span>';

      // body
      var bodyText = '';
      if (day.type === 'content') {
        bodyText = 'Create and share your best content about Clude. Tag @cludebot and include #CludeHackathon. Top 10 by engagement score win a share of ' + day.tokens + ' $CLUDE.';
      } else if (day.type === 'gacha') {
        bodyText = 'The Gacha Machine is live. Odds: ' + day.odds + '. Multiplier: ' + day.multiplier + '. Enter your wallet and X handle, then spin. Winners get tokens sent directly. ' + (day.multiplier === '3x' ? 'Triple or nothing.' : '10x or bust.');
      } else if (day.type === 'grant') {
        bodyText = 'Grant ' + day.grantNumber + ' reveals on Day ' + day.day + '. 10,000,000 $CLUDE vested linearly over one week to a project building on Clude infrastructure.';
      } else if (day.type === 'special') {
        if (day.day === 7) {
          bodyText = 'Special airdrop for Grant 2 partner community (Seeker). Tokens distributed to eligible wallets.';
        } else {
          bodyText = 'The grand finale. A snapshot of the top 10 holders determines who receives the final 10M $CLUDE airdrop. Diamond hands rewarded.';
        }
      }
      $('detailBody').textContent = bodyText;

      // CTA
      var ctaHtml = '';
      if (day.type === 'content') {
        ctaHtml = '<button class="copy-tag-btn" onclick="copyTag()">@cludebot #CludeHackathon</button>';
        ctaHtml += '<span style="font-size:11px;color:var(--text-faint);">Click to copy</span>';
      } else if (day.type === 'gacha') {
        ctaHtml = '<a href="#gacha-section" class="btn btn-primary" style="font-size:11px;">Go to Machine</a>';
      } else if (day.type === 'grant') {
        if (day.day <= state.currentDay && state.status !== 'upcoming') {
          ctaHtml = '<a href="#grants-section" class="btn btn-outline" style="font-size:11px;">View Grant</a>';
        } else {
          ctaHtml = '<span style="font-size:12px;color:var(--text-faint);letter-spacing:1px;">REVEALS DAY ' + day.day + '</span>';
        }
      }
      $('detailCta').innerHTML = ctaHtml;

      $('dayDetail').classList.add('visible');
    }

    window.copyTag = function() {
      navigator.clipboard.writeText('@cludebot #CludeHackathon').then(function() {
        var btns = document.querySelectorAll('.copy-tag-btn');
        if (btns.length) {
          btns[0].textContent = 'Copied!';
          setTimeout(function() { btns[0].textContent = '@cludebot #CludeHackathon'; }, 2000);
        }
      }).catch(function() {});
    };

    /* ──────────────────────────────────────────
       GRANTS
    ────────────────────────────────────────── */
    function renderGrants() {
      var grid = $('grantsGrid');
      grid.innerHTML = '';

      state.grants.forEach(function(grant) {
        var container = document.createElement('div');
        container.className = 'grant-card-container';

        var card = document.createElement('div');
        card.className = 'grant-card';
        if (grant.revealed) card.classList.add('revealed');

        // front (unrevealed)
        var front = document.createElement('div');
        front.className = 'grant-front';
        front.innerHTML =
          '<div class="grant-front-question">?</div>' +
          '<div class="grant-front-label">Grant ' + grant.number + ' — Classified</div>' +
          '<div class="grant-front-reveal">Reveals Day ' + grant.revealDay + '</div>' +
          '<div class="grant-front-amount">10,000,000 $CLUDE</div>';

        // back (revealed)
        var back = document.createElement('div');
        back.className = 'grant-back';
        if (grant.revealed && grant.name) {
          var pfpContent = grant.pfp
            ? '<img src="' + grant.pfp + '" alt="' + grant.name + '">'
            : grant.name.charAt(0);
          back.innerHTML =
            '<div class="grant-pfp">' + pfpContent + '</div>' +
            '<div class="grant-back-name">' + grant.name + '</div>' +
            '<div class="grant-back-desc">' + (grant.description || 'Building on Clude infrastructure.') + '</div>' +
            '<div class="grant-back-amount">10,000,000 $CLUDE</div>' +
            '<div class="grant-back-vesting">Vested linearly — 7 days</div>' +
            '<a href="#" class="btn btn-outline" style="font-size:10px;padding:10px 20px;">View Project</a>';
        } else {
          back.innerHTML =
            '<div class="grant-pfp">?</div>' +
            '<div class="grant-back-name">To Be Announced</div>' +
            '<div class="grant-back-desc">This grant recipient will be revealed.</div>' +
            '<div class="grant-back-amount">10,000,000 $CLUDE</div>' +
            '<div class="grant-back-vesting">Vested linearly — 7 days</div>';
        }

        card.appendChild(front);
        card.appendChild(back);
        container.appendChild(card);
        grid.appendChild(container);
      });
    }

    /* ──────────────────────────────────────────
       TWEET FEED
    ────────────────────────────────────────── */
    function renderTweets() {
      var feed = $('tweetFeed');

      if (!state.tweets || state.tweets.length === 0) {
        feed.innerHTML = '<div class="feed-empty">No submissions yet. Be the first — tag @cludebot with #CludeHackathon</div>';
        return;
      }

      feed.innerHTML = '';
      state.tweets.slice(0, 20).forEach(function(tweet) {
        var card = document.createElement('div');
        card.className = 'tweet-card';

        var handle = tweet.author_handle || tweet.username || 'anon';
        var initial = handle.replace('@', '').charAt(0).toUpperCase();
        var text = tweet.text || tweet.content || '';
        if (text.length > 200) text = text.substring(0, 200) + '...';

        var holderBadge = tweet.is_holder
          ? '<div class="tweet-holder-badge">Holder</div>'
          : '';

        card.innerHTML =
          '<div class="tweet-author">' +
            '<div class="tweet-avatar">' + initial + '</div>' +
            '<div class="tweet-handle">@' + handle.replace('@', '') + '</div>' +
            holderBadge +
          '</div>' +
          '<div class="tweet-text">' + escapeHtml(text) + '</div>' +
          '<div class="tweet-engagement">' +
            '<span>\u2764 ' + formatNumber(tweet.likes || 0) + '</span>' +
            '<span>\u21C4 ' + formatNumber(tweet.retweets || 0) + '</span>' +
            '<span>\u25CB ' + formatNumber(tweet.replies || 0) + '</span>' +
            '<div class="tweet-time">' + relativeTime(tweet.created_at) + '</div>' +
          '</div>';

        feed.appendChild(card);
      });
    }

    function escapeHtml(str) {
      var div = document.createElement('div');
      div.textContent = str;
      return div.innerHTML;
    }

    function updateTrackerStats() {
      if (state.tweets && state.tweets.length > 0) {
        var totalTweets = state.tweets.length;
        var totalEngagement = state.tweets.reduce(function(acc, t) {
          return acc + (t.likes || 0) + (t.retweets || 0) + (t.replies || 0);
        }, 0);
        var uniqueAuthors = {};
        state.tweets.forEach(function(t) {
          var author = t.author_handle || t.username || 'anon';
          uniqueAuthors[author] = true;
        });

        $('statTweets').textContent = formatNumber(totalTweets);
        $('statEngagement').textContent = formatNumber(totalEngagement);
        $('statAuthors').textContent = formatNumber(Object.keys(uniqueAuthors).length);
      }
    }

    /* ──────────────────────────────────────────
       LEADERBOARD
    ────────────────────────────────────────── */
    function renderLeaderboard() {
      var tbody = $('leaderboardBody');
      var data = state.leaderboardData[state.leaderboardDay];

      if (!data || data.length === 0) {
        tbody.innerHTML = '<tr><td colspan="8" class="lb-empty">Pending — Campaign hasn\'t started yet. Check back soon.</td></tr>';
        return;
      }

      tbody.innerHTML = '';
      data.slice(0, 10).forEach(function(entry, i) {
        var rank = i + 1;
        var rankClass = '';
        var rankDisplay = rank;
        if (rank === 1) { rankClass = 'gold'; rankDisplay = '\uD83E\uDD47'; }
        else if (rank === 2) { rankClass = 'silver'; rankDisplay = '\uD83E\uDD48'; }
        else if (rank === 3) { rankClass = 'bronze'; rankDisplay = '\uD83E\uDD49'; }

        var handle = entry.authorUsername || entry.author_handle || entry.username || 'anon';
        var score = entry.engagementScore || entry.score || ((entry.likes || 0) + (entry.retweets || 0) * 2 + (entry.replies || 0));
        var awarded = (entry.tokensAwarded || entry.awarded) ? formatNumber(entry.tokensAwarded || entry.awarded) + ' $CLUDE' : '--';
        var tweetId = entry.tweetId || entry.tweet_id || '';
        var link = tweetId ? 'https://x.com/i/status/' + tweetId : '#';

        var tr = document.createElement('tr');
        tr.innerHTML =
          '<td><span class="lb-rank ' + rankClass + '">' + rankDisplay + '</span></td>' +
          '<td class="lb-author">@' + escapeHtml(handle.replace('@', '')) + '</td>' +
          '<td class="lb-score">' + formatNumber(score) + '</td>' +
          '<td>' + formatNumber(entry.likes || 0) + '</td>' +
          '<td>' + formatNumber(entry.retweets || 0) + '</td>' +
          '<td>' + formatNumber(entry.replies || 0) + '</td>' +
          '<td><a href="' + link + '" target="_blank" style="color:var(--blue);text-decoration:none;">\u2197</a></td>' +
          '<td class="lb-awarded">' + awarded + '</td>';

        tbody.appendChild(tr);
      });
    }

    function initLeaderboardTabs() {
      var tabs = qsa('.leaderboard-tab');
      tabs.forEach(function(tab) {
        tab.addEventListener('click', function() {
          tabs.forEach(function(t) { t.classList.remove('active'); });
          tab.classList.add('active');
          state.leaderboardDay = parseInt(tab.getAttribute('data-day'), 10);
          fetchLeaderboard(state.leaderboardDay);
        });
      });
    }

    /* ──────────────────────────────────────────
       GACHA MACHINE
    ────────────────────────────────────────── */
    function updateGachaSection() {
      // determine which gacha day is relevant
      var gachaDay = null;
      if (state.currentDay === 2) gachaDay = CAMPAIGN_DAYS[1];
      else if (state.currentDay === 8) gachaDay = CAMPAIGN_DAYS[7];

      if (gachaDay) {
        $('gachaTitle').textContent = gachaDay.name;
        $('gachaOdds').innerHTML = '<strong>' + gachaDay.odds + '</strong> — ' +
          (gachaDay.multiplier === '3x' ? 'Triple or nothing' : '10x or bust');
        $('gachaSpinBtn').disabled = false;
      } else {
        // show the next gacha
        var nextGacha = state.currentDay < 2 ? CAMPAIGN_DAYS[1] : CAMPAIGN_DAYS[7];
        $('gachaTitle').textContent = nextGacha.name;
        $('gachaOdds').innerHTML = '<strong>' + nextGacha.odds + '</strong> — ' +
          (nextGacha.multiplier === '3x' ? 'Triple or nothing' : '10x or bust');
        $('gachaSpinBtn').disabled = true;
      }
    }

    function initGacha() {
      var spinBtn = $('gachaSpinBtn');
      var walletInput = $('gachaWallet');
      var handleInput = $('gachaHandle');

      // enable spin button when inputs are filled and it's a gacha day
      function checkInputs() {
        var isGachaDay = state.currentDay === 2 || state.currentDay === 8;
        spinBtn.disabled = !isGachaDay || !walletInput.value.trim() || !handleInput.value.trim() || state.gachaSpinning;
      }
      walletInput.addEventListener('input', checkInputs);
      handleInput.addEventListener('input', checkInputs);

      spinBtn.addEventListener('click', function() {
        if (state.gachaSpinning) return;
        var wallet = walletInput.value.trim();
        var handle = handleInput.value.trim();
        if (!wallet || !handle) return;

        state.gachaSpinning = true;
        spinBtn.disabled = true;
        $('gachaResult').textContent = '';
        $('gachaResult').className = 'gacha-result';

        // start spinning animation
        var reel1 = $('reel1'), reel2 = $('reel2'), reel3 = $('reel3');
        reel1.className = 'gacha-reel spinning';
        reel2.className = 'gacha-reel spinning';
        reel3.className = 'gacha-reel spinning';

        var spinIntervals = [];
        [reel1, reel2, reel3].forEach(function(reel) {
          var interval = setInterval(function() {
            reel.textContent = GACHA_CHARS[Math.floor(Math.random() * GACHA_CHARS.length)];
          }, 80);
          spinIntervals.push(interval);
        });

        // fire the API call
        safeFetch('/api/campaign/gacha/spin', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            wallet_address: wallet,
            x_handle: handle.replace('@', ''),
            campaign_day: state.currentDay,
          }),
        }).then(function(result) {
          stopReels(spinIntervals, result.won, result.payout || 0);
        }).catch(function() {
          // fallback: simulate a result client-side
          var isDay2 = state.currentDay === 2;
          var won = Math.random() < (isDay2 ? 0.5 : 0.15);
          stopReels(spinIntervals, won, won ? (isDay2 ? 300000 : 1000000) : 0);
        });
      });
    }

    function stopReels(intervals, won, payout) {
      var reels = [$('reel1'), $('reel2'), $('reel3')];

      // stop reels one by one with 300ms stagger
      reels.forEach(function(reel, i) {
        setTimeout(function() {
          clearInterval(intervals[i]);

          if (won) {
            reel.textContent = '$';
            reel.className = 'gacha-reel win';
          } else {
            reel.textContent = GACHA_CHARS[Math.floor(Math.random() * (GACHA_CHARS.length - 1))]; // exclude $
            reel.className = 'gacha-reel lose';
          }

          // after last reel stops, show result
          if (i === 2) {
            setTimeout(function() {
              var result = $('gachaResult');
              if (won) {
                result.textContent = 'YOU WON ' + formatNumber(payout) + ' $CLUDE!';
                result.className = 'gacha-result win';
              } else {
                result.textContent = 'No luck this time.';
                result.className = 'gacha-result lose';
              }
              state.gachaSpinning = false;
              // re-check inputs
              var isGachaDay = state.currentDay === 2 || state.currentDay === 8;
              $('gachaSpinBtn').disabled = !isGachaDay;

              // refresh gacha history
              fetchGachaHistory(state.currentDay);
            }, 200);
          }
        }, (i + 1) * 300);
      });
    }

    function renderGachaHistory() {
      var container = $('gachaHistoryFeed');

      if (!state.gachaHistory || state.gachaHistory.length === 0) {
        container.innerHTML = '<div class="data-unavailable">No spins yet</div>';
        return;
      }

      container.innerHTML = '';
      state.gachaHistory.slice(0, 30).forEach(function(spin) {
        var row = document.createElement('div');
        row.className = 'gacha-spin-row';

        var handle = spin.x_handle || spin.handle || 'anon';
        var won = spin.won || spin.result === 'win';
        var payout = spin.payout || 0;

        row.innerHTML =
          '<div class="gacha-spin-handle">@' + escapeHtml(handle.replace('@', '')) + '</div>' +
          '<div class="gacha-spin-result ' + (won ? 'win' : 'lose') + '">' + (won ? 'WIN' : 'LOSE') + '</div>' +
          '<div class="gacha-spin-payout ' + (won ? 'win' : '') + '">' + (won ? '+' + formatNumber(payout) : '0') + '</div>';

        container.appendChild(row);
      });
    }

    function updateGachaStats() {
      $('gsTotalSpins').textContent = formatNumber(state.gachaStats.totalSpins);
      $('gsWinRate').textContent = state.gachaStats.winRate + '%';
      $('gsTotalPaid').textContent = formatNumber(state.gachaStats.totalPaid);
    }

    /* ──────────────────────────────────────────
       API FETCHING
    ────────────────────────────────────────── */
    function fetchCampaignState() {
      safeFetch('/api/campaign/state').then(function(data) {
        if (data.campaign_start) state.campaignStart = data.campaign_start;
        if (data.start_date) state.campaignStart = data.start_date;
        if (typeof data.current_day === 'number') state.currentDay = data.current_day;
        if (data.status) state.status = data.status;
        if (typeof data.tokens_distributed === 'number') state.tokensDistributed = data.tokens_distributed;

        applyState();
      }).catch(function() {
        // use fallback: campaign not yet started
        state.status = 'upcoming';
        state.currentDay = 0;
        applyState();
      });
    }

    function fetchTweets() {
      var day = state.currentDay || 1;
      safeFetch('/api/campaign/tweets?day=' + day + '&limit=20').then(function(data) {
        state.tweets = data.tweets || data || [];
        renderTweets();
        updateTrackerStats();
      }).catch(function() {
        // silent fail, keep existing data
      });
    }

    function fetchLeaderboard(day) {
      safeFetch('/api/campaign/leaderboard?day=' + day).then(function(data) {
        state.leaderboardData[day] = data.tweets || data.leaderboard || [];
        renderLeaderboard();
      }).catch(function() {
        state.leaderboardData[day] = [];
        renderLeaderboard();
      });
    }

    function fetchGrants() {
      safeFetch('/api/campaign/grants').then(function(data) {
        var grants = data.grants || data || [];
        grants.forEach(function(g, i) {
          if (state.grants[i]) {
            state.grants[i].revealed = g.revealed || false;
            state.grants[i].name = g.name || g.project_name || null;
            state.grants[i].description = g.description || null;
            state.grants[i].pfp = g.pfp || g.pfp_url || null;
          }
        });
        renderGrants();
      }).catch(function() {
        renderGrants();
      });
    }

    function fetchGachaHistory(day) {
      if (!day) day = state.currentDay === 8 ? 8 : 2;
      safeFetch('/api/campaign/gacha/history?day=' + day).then(function(data) {
        state.gachaHistory = data.history || data.spins || [];
        state.gachaStats = {
          totalSpins: data.total_spins || data.stats?.total_spins || state.gachaHistory.length,
          winRate: data.win_rate || data.stats?.win_rate || 0,
          totalPaid: data.total_paid || data.stats?.total_paid || 0,
        };
        renderGachaHistory();
        updateGachaStats();
      }).catch(function() {
        renderGachaHistory();
        updateGachaStats();
      });
    }

    /* ──────────────────────────────────────────
       STATE APPLICATION
    ────────────────────────────────────────── */
    function applyState() {
      updateCountdown();
      updateStatusBadge();
      updateTokenProgress();

      // auto-select the active day or day 1
      if (state.status === 'active' && state.currentDay > 0) {
        state.selectedDay = state.currentDay;
      } else {
        state.selectedDay = 1;
      }

      renderTimeline();
      renderDayDetail();
      updateGachaSection();
    }

    /* ──────────────────────────────────────────
       SCROLL REVEAL
    ────────────────────────────────────────── */
    function initScrollReveal() {
      var observer = new IntersectionObserver(function(entries) {
        entries.forEach(function(e) {
          if (e.isIntersecting) {
            e.target.classList.add('visible');
            observer.unobserve(e.target);
          }
        });
      }, { threshold: 0.12 });

      qsa('.reveal').forEach(function(el) {
        observer.observe(el);
      });
    }

    /* ──────────────────────────────────────────
       INIT
    ────────────────────────────────────────── */
    function init() {
      // initial render with default state
      renderTimeline();
      renderDayDetail();
      renderGrants();
      renderTweets();
      renderLeaderboard();
      renderGachaHistory();
      updateGachaStats();
      updateGachaSection();

      // init interactive elements
      initLeaderboardTabs();
      initGacha();
      initScrollReveal();

      // fetch data
      fetchCampaignState();
      fetchTweets();
      fetchLeaderboard(1);
      fetchGrants();
      fetchGachaHistory();

      // countdown timer every second
      setInterval(updateCountdown, 1000);

      // poll campaign state every 60s
      setInterval(fetchCampaignState, 60000);

      // poll tweets every 5 minutes
      setInterval(fetchTweets, 300000);

      // poll grants every 5 minutes
      setInterval(fetchGrants, 300000);
    }

    // run on DOMContentLoaded
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }

  })();
  </script>
</body>
</html>
